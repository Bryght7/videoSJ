<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>About</title>
    <script src="about.css"></script>
  </head>
  <body class="flex flex-col items-center p-2">
    <div class="flex items-center mb-3 select-none">
      <img alt="Icon" src="" width="60" class="select-none"/>
      <h1 class="pl-2 text-3xl font-bold text-indigo-600">VideoSJ</h1>
    </div>
    <p class="mb-3 font-bold">Version <span id="appVersion" class="select-all"></span></p>
      <p class="flex items-center">
        Original project by
        <a
          class="flex items-center ml-2 text-indigo-600 hover:text-indigo-800 hover:fill-indigo-800 fill-indigo-600 hover:underline"
          href="https://github.com/Bryght7/videosj"
          target="_blank"
          ><svg
            height="32"
            aria-hidden="true"
            viewBox="0 0 16 16"
            version="1.1"
            width="20"
            data-view-component="true"
            class="mr-1 octicon octicon-mark-github v-align-middle"
          >
            <path
              fill-rule="evenodd"
              d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"
            ></path>
          </svg>
          Bryght7</a
        >
      </p>
      <p class="mb-3">
        Distributed under
        <a
          id="licenseLink"
          href="https://github.com/Bryght7/videoSJ/blob/main/LICENSE"
          target="_blank"
          class="text-indigo-600 hover:text-indigo-800 hover:underline"
        ></a>
      </p>
    <div class="mb-3 text-slate-500">
      <table id="processVersions" class="select-all"></table>
    </div>
    <p class="px-6 mb-3 text-slate-500">This software uses libraries from the FFmpeg project under the LGPLv2.1</p>
    <a
      href="https://www.buymeacoffee.com/Bryght7"
      target="_blank"
      class="mb-3 hover:brightness-90"
      ><img
        src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&emoji=&slug=Bryght7&button_colour=5F7FFF&font_colour=ffffff&font_family=Cookie&outline_colour=000000&coffee_colour=FFDD00"
    /></a>
    <a
      href="https://github.com/Bryght7/videoSJ/issues"
      target="_blank"
      class="text-indigo-600 hover:text-indigo-800 hover:underline"
      >Found a bug?</a
    >
    <script>
      // Getting data from main.ts, thanks to the query params
      const params = new Proxy(new URLSearchParams(window.location.search), {
        get: (searchParams, prop) => searchParams.get(prop),
      });
      const versionInfo = ['electron', 'chrome', 'node', 'v8'].map((e) => [
        e,
        JSON.parse(params.processVersions)[e],
      ]);

      document.querySelector('img').src = params.icon;
      document.querySelector('#appVersion').innerText = params.appVersion;
      document.querySelector('#licenseLink').text = params.license;

      // Inspired by https://github.com/rhysd/electron-about-window/blob/master/src/renderer.ts
      for (const [name, value] of versionInfo) {
        const tr = document.createElement('tr');
        const name_td = document.createElement('td');
        name_td.innerText = name;
        tr.appendChild(name_td);
        const version_td = document.createElement('td');
        version_td.innerText = ' : ' + value;
        tr.appendChild(version_td);
        document.querySelector('#processVersions').appendChild(tr);
      }
    </script>
  </body>
</html>
